<!DOCTYPE html>
<html>
	<head>
		<meta name='viewport' id='viewport' content='width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no'/>
		<meta charset='UTF-8'/>
		<title>Implement kbhit() in Python - Frank's Notes</title>
		<link rel='stylesheet' type='text/css' href='/css/post.css'/>
	</head>
	<body>
		<div class='header-wrapper'>
			<div class='header'>
				
<a class='site-title' href='/'>Frank's Notes</a>


			</div>
		</div>
		<div class='main-content'>
			<h2>Implement kbhit() in Python</h2>
			<h3 id="content-of-kbhitpy">Content of <code class="highlighter-rouge">kbhit.py</code></h3>

<div class="highlighter-rouge"><pre class="highlight"><code>import sys, termios;
from select import select;

# save the terminal settings
fd = sys.stdin.fileno();
new_term = termios.tcgetattr(fd);
old_term = termios.tcgetattr(fd);

# new terminal setting unbuffered
new_term[3] = (new_term[3] &amp; ~termios.ICANON &amp; ~termios.ECHO);

def init():
    termios.tcsetattr(fd, termios.TCSAFLUSH, new_term);

def restore():
    termios.tcsetattr(fd, termios.TCSAFLUSH, old_term);

def getch():
    return sys.stdin.read(1);

def kbhit():
    dr,dw,de = select([sys.stdin], [], [], 0);
    return len(dr)&gt;0;
</code></pre>
</div>

<h3 id="usage">Usage</h3>

<div class="highlighter-rouge"><pre class="highlight"><code>import kbhit, time;
kbhit.init();

running = True;
while running:
    if kbhit.kbhit():
    	ch = kbhit.getch();
    	if 'q' == ch:
    		running = False;
    time.sleep(0.1);

kbhit.restore();
</code></pre>
</div>

		</div>
	</body>
</html>

