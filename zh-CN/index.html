<html>
	<head>
		<meta name='viewport' id='viewport' content='width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no'/>
		<meta charset='UTF-8'>
		<title>Frank的笔记</title>
		<link rel='stylesheet' type='text/css' href='/css/index.css'/>
		<script type='text/javascript' src='/js/js.cookie.min.js'></script>

	</head>
	<body>
		<div class='menu-wrapper' id='main_menu'>
	<div id='menu_bg'></div>
	<div class='menu-wrapper-inner'>
		<ul class='menu'>
			<li class='separator'>选择语言</li>
			<li><a id='select_lang_english' href='/'>English</a></li>
			<li><a id='select_lang_chinese' href='/zh-CN/'>中文</a></li>
			<li class='separator'>更多精彩</li>
			<li><a href='/tetris.html'> 俄罗斯方块</a></li>
			<li><a href='/2048.html'>2048</a></li>
			<li><a href='/gambler_ruin.html'>Gambler's Ruin</a></li>
			<li><a href='https://github.com/frank-deng/'>View Me On Github</a></li>
		</ul>
	</div>
</div>

		<div class='header-wrapper'>
			<div class='header'>
				<div class='menu-btn' id='menu_btn'>
					<div class='menu-btn-bars'>
						<div class='bar bar1'></div>
						<div class='bar bar2'></div>
						<div class='bar bar3'></div>
					</div>
				</div>
				<h1>
<a class='site-title' href='/zh-CN/'>Frank的笔记</a>

</h1>
			</div>
		</div>
		<div class='main-content'>
			<div>
			
				<a href="/zh-CN/wifi_configuration.html"><h2>Linux命令行下配置Wifi</h2></a>
				<div class='tag-area'>
					
					标签：
					<span class='tag' tag='Linux'>Linux</span>
					
				</div>
				<div class='post-content'>
					<h3 id="section">前期准备</h3>

<p>使用<code class="highlighter-rouge">ifconfig -a</code>命令获取所有可用的网络设备。</p>

<h3 id="section-1">方案1（只需连1个路由器）</h3>

<p>将以下配置加入到<code class="highlighter-rouge">/etc/network/interfaces</code>中：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>auto wlan0
iface wlan0 inet dhcp
	wpa-ssid "WLAN_SSID"
	wpa-psk "12345678"
</code></pre>
</div>

<p>其中<code class="highlighter-rouge">wlan0</code>需要换成需要使用的Wifi设备。</p>

<h3 id="section-2">方案2（根据信号强度连接不同路由器）</h3>

<p><strong>第1步：</strong>创建<code class="highlighter-rouge">/etc/network/wpa_supplicant.conf</code>，并添加以下配置：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>network={
	ssid="WLAN_SSID_1"
	key_mgmt=WPA-PSK
	psk="WLAN_AP_PSK_1"
	priority=1
}
network={
	ssid="WLAN_SSID_2"
	key_mgmt=WPA-PSK
	psk="WLAN_AP_PSK_2"
	priority=2
}
</code></pre>
</div>

<p><strong>第2步：</strong>将以下配置加入到<code class="highlighter-rouge">/etc/network/interfaces</code>中：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>auto wlan0
iface wlan0 inet dhcp
	wpa-conf /etc/network/wpa_supplicant.conf
</code></pre>
</div>

<p>其中<code class="highlighter-rouge">wlan0</code>需要换成需要使用的Wifi设备。</p>

					<div class='fold-control'><span class='hint-expand'>展开<span></div>
				</div>
				<hr/>
			
				<a href="/zh-CN/record_sound.html"><h2>Linux命令行下捕获系统声音</h2></a>
				<div class='tag-area'>
					
					标签：
					<span class='tag' tag='Linux'>Linux</span>
					
				</div>
				<div class='post-content'>
					<p>当pulseaudio被用于管理系统声音时，可以在命令行环境下使用<code class="highlighter-rouge">pacat</code>命令捕获系统声音。</p>

<h3 id="section">步骤1：找到用于捕获系统声音的设备</h3>

<p>使用以下命令找到用于捕获系统声音的设备：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>pacmd list | grep "\.monitor"
</code></pre>
</div>

<p>当看到如下输出时：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	name: &lt;alsa_output.pci-0000_00_1b.0.analog-stereo.monitor&gt;
	alsa_output.pci-0000_00_1b.0.analog-stereo.monitor/#0: Monitor of Built-in Audio Analog Stereo
</code></pre>
</div>

<p>就可以找到用于捕获系统声音的设备了。在上述输出内容中，可以找到设备名如下：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>alsa_output.pci-0000_00_1b.0.analog-stereo.monitor
</code></pre>
</div>

<h3 id="section-1">步骤2：开始捕获系统声音</h3>

<p>以下例子描述了如何将系统声音拷贝到<code class="highlighter-rouge">.wav</code>文件中，并使用CD音质。</p>

<p>使用<code class="highlighter-rouge">sox</code>的命令:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>pacat --record -d alsa_output.pci-0000_00_1b.0.analog-stereo.monitor | sox -t raw -r 44100 -s -L -b 16 -c 2 - output.wav
</code></pre>
</div>

<p>使用<code class="highlighter-rouge">ffmpeg</code>的命令:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>pacat --record -d alsa_output.pci-0000_00_1b.0.analog-stereo.monitor | ffmpeg -f s16le -ar 44.1k -ac 2 -i pipe:0 record.wav
</code></pre>
</div>

					<div class='fold-control'><span class='hint-expand'>展开<span></div>
				</div>
				<hr/>
			
				<a href="/zh-CN/ralink_wifi_fix.html"><h2>Debian/Ubuntu下修复华硕笔记本的Wifi</h2></a>
				<div class='tag-area'>
					
					标签：
					<span class='tag' tag='Linux'>Linux</span>
					
				</div>
				<div class='post-content'>
					<p>如果华硕笔记本上的Wifi模块是Ralink的，安装完Debian/Ubuntu后会出现Wifi无法使用的情况。同时在终端运行<code class="highlighter-rouge">sudo rfkill list all</code>命令后会有如下输出：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>0: phy0: Wireless LAN
	Soft blocked: no
	Hard blocked: yes
1: asus-wlan: Wireless LAN
	Soft blocked: no
	Hard blocked: no
</code></pre>
</div>

<h3 id="wifi">如何修复Wifi</h3>

<p>创建<code class="highlighter-rouge">/etc/modprobe.d/asus.conf</code>，并在文件中添加如下内容：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>options asus_nb_wmi wapf=4
</code></pre>
</div>

<p>然后重启。</p>

					<div class='fold-control'><span class='hint-expand'>展开<span></div>
				</div>
				<hr/>
			
				<a href="/zh-CN/perl_rename.html"><h2>如何使用Perl的rename工具进行批量重命名</h2></a>
				<div class='tag-area'>
					
					标签：
					<span class='tag' tag='Shell'>Shell</span>
					
				</div>
				<div class='post-content'>
					<p>去除<code class="highlighter-rouge">.bak</code>扩展名：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>prename 's/\.bak$//' *
</code></pre>
</div>

<p>将文件名转换成小写：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>prename 'y/A-Z/a-z/' *
</code></pre>
</div>

<p>为<code class="highlighter-rouge">.txt</code>文件加前缀：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>prename 's/(.*).txt$/prefix_$1.txt/' *.txt
</code></pre>
</div>

<p>ArchLinux上需要安装<code class="highlighter-rouge">perl-rename</code>包来获得该工具。</p>

					<div class='fold-control'><span class='hint-expand'>展开<span></div>
				</div>
				<hr/>
			
				<a href="/zh-CN/change_time.html"><h2>Linux下更改日期、时间、时区</h2></a>
				<div class='tag-area'>
					
					标签：
					<span class='tag' tag='Linux'>Linux</span>
					
				</div>
				<div class='post-content'>
					<p>更改日期：<code class="highlighter-rouge">date -s MM/DD/YYYY</code></p>

<p>更改时间：<code class="highlighter-rouge">date -s hh:mm:ss</code></p>

<p>更改时区：<code class="highlighter-rouge">sudo dpkg-reconfigure tzdata</code></p>

					<div class='fold-control'><span class='hint-expand'>展开<span></div>
				</div>
				<hr/>
			
				<a href="/zh-CN/vim_tabsize.html"><h2>调整VIM的制表符宽度</h2></a>
				<div class='tag-area'>
					
					标签：
					<span class='tag' tag='Linux'>Linux</span>
					
				</div>
				<div class='post-content'>
					<p>将以下行加入到<code class="highlighter-rouge">/etc/vim/vimrc</code>中：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>set tabstop=4
set softtabstop=4
set shiftwidth=4
</code></pre>
</div>

					<div class='fold-control'><span class='hint-expand'>展开<span></div>
				</div>
				<hr/>
			
				<a href="/zh-CN/console_autologin.html"><h2>为Linux命令行配置自动登录</h2></a>
				<div class='tag-area'>
					
					标签：
					<span class='tag' tag='Linux'>Linux</span>
					
				</div>
				<div class='post-content'>
					<p>新建目录<code class="highlighter-rouge">/etc/systemd/system/getty@tty1.service.d/</code>（如果该目录不存在）</p>

<p>然后创建文件<code class="highlighter-rouge">/etc/systemd/system/getty@tty1.service.d/autologin.conf</code>，文件内容如下：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>[Service]
ExecStart=
ExecStart=-/sbin/agetty --autologin username --noclear %I $TERM
</code></pre>
</div>

<p>保存，然后重启。</p>


					<div class='fold-control'><span class='hint-expand'>展开<span></div>
				</div>
				<hr/>
			
				<a href="/zh-CN/alsa_44100hz.html"><h2>提升ALSA播放时的音质</h2></a>
				<div class='tag-area'>
					
					标签：
					<span class='tag' tag='Linux'>Linux</span>
					
				</div>
				<div class='post-content'>
					<p>打开<code class="highlighter-rouge">/usr/share/alsa/alsa.conf</code>，然后将<code class="highlighter-rouge">defaults.pcm.dmix.rate 48000</code>更改为<code class="highlighter-rouge">defaults.pcm.dmix.rate 44100</code>。</p>

					<div class='fold-control'><span class='hint-expand'>展开<span></div>
				</div>
				<hr/>
			
				<a href="/zh-CN/handlelidswitch.html"><h2>防止笔记本合上后进入休眠状态</h2></a>
				<div class='tag-area'>
					
					标签：
					<span class='tag' tag='Linux'>Linux</span>
					
				</div>
				<div class='post-content'>
					<p>编辑<code class="highlighter-rouge">/etc/systemd/login.conf</code>，将<code class="highlighter-rouge">HandleLidSwitch</code>的值设为<code class="highlighter-rouge">ignore</code>。</p>

					<div class='fold-control'><span class='hint-expand'>展开<span></div>
				</div>
				<hr/>
			
				<a href="/zh-CN/enum_args.html"><h2>Bash Shell遍历带空格的命令行参数</h2></a>
				<div class='tag-area'>
					
					标签：
					<span class='tag' tag='Shell'>Shell</span>
					
				</div>
				<div class='post-content'>
					<div class="highlighter-rouge"><pre class="highlight"><code>while [ -n "${1}" ]; do
	FILENAME="${1}";
	#Do some works on "${FILENAME}"
	shift 1;
done;
</code></pre>
</div>

					<div class='fold-control'><span class='hint-expand'>展开<span></div>
				</div>
				<hr/>
			
				<a href="/zh-CN/enum_lines.html"><h2>Bash Shell按行遍历标准输出</h2></a>
				<div class='tag-area'>
					
					标签：
					<span class='tag' tag='Shell'>Shell</span>
					
				</div>
				<div class='post-content'>
					<div class="highlighter-rouge"><pre class="highlight"><code>IFS=$'\n';
for LINE in `ls`; do
	#Do some works on "${LINE}"
done;
</code></pre>
</div>

					<div class='fold-control'><span class='hint-expand'>展开<span></div>
				</div>
				<hr/>
			
				<a href="/zh-CN/filename_parse.html"><h2>Bash Shell从给定文件名中获取基本名和扩展名</h2></a>
				<div class='tag-area'>
					
					标签：
					<span class='tag' tag='Shell'>Shell</span>
					
				</div>
				<div class='post-content'>
					<div class="highlighter-rouge"><pre class="highlight"><code>BASENAME="${FILENAME%.*}";
EXTENSION="${FILENAME##*.}";
</code></pre>
</div>

					<div class='fold-control'><span class='hint-expand'>展开<span></div>
				</div>
				<hr/>
			
				<a href="/zh-CN/html5_video_conv.html"><h2>将视频转换成兼容HTML5的格式</h2></a>
				<div class='tag-area'>
					
					标签：
					<span class='tag' tag='Shell'>Shell</span>
					
				</div>
				<div class='post-content'>
					<div class="highlighter-rouge"><pre class="highlight"><code>ffmpeg -i INPUT_FILE -c:v libx264 -crf 18 -c:a aac -q:a 100 -strict experimental OUTPUT.mp4
</code></pre>
</div>


					<div class='fold-control'><span class='hint-expand'>展开<span></div>
				</div>
				<hr/>
			
				<a href="/zh-CN/crontab_reboot.html"><h2>使用crontab实现开机自动运行脚本</h2></a>
				<div class='tag-area'>
					
					标签：
					<span class='tag' tag='Linux'>Linux</span>
					
				</div>
				<div class='post-content'>
					<p>将以下内容加入到<code class="highlighter-rouge">/etc/crontab</code>中：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>@reboot    username    /path/to/script arguments
</code></pre>
</div>


					<div class='fold-control'><span class='hint-expand'>展开<span></div>
				</div>
				<hr/>
			
				<a href="/zh-CN/address_bar_color.html"><h2>Chrome for Android中更改地址栏的颜色</h2></a>
				<div class='tag-area'>
					
					标签：
					<span class='tag' tag='HTML'>HTML</span>
					
				</div>
				<div class='post-content'>
					<p>将以下标签加到HTML的head标签中，就可以改变Chrome for Android的地址栏颜色了。</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;meta name="theme-color" content="#db5945"/&gt;
</code></pre>
</div>


					<div class='fold-control'><span class='hint-expand'>展开<span></div>
				</div>
				<hr/>
			
				<a href="/zh-CN/browser_type.html"><h2>通过User Agent获取浏览器类型</h2></a>
				<div class='tag-area'>
					
					标签：
					<span class='tag' tag='HTML'>HTML</span><span class='tag' tag='JavaScript'>JavaScript</span>
					
				</div>
				<div class='post-content'>
					<div class="highlighter-rouge"><pre class="highlight"><code>function deviceType() {
	var ua = window.navigator.userAgent;
	if (/iphone|android.*mobile/i.test(ua)) {
		return 'mobile';
	} else if (/ipad|android/i.test(ua)) {
		return 'pad';
	}
	return undefined;
}
</code></pre>
</div>

<p>手机浏览器返回<code class="highlighter-rouge">mobile</code>，平板浏览器返回<code class="highlighter-rouge">pad</code>，PC浏览器和其它类型的浏览器返回<code class="highlighter-rouge">undefined</code>。</p>


					<div class='fold-control'><span class='hint-expand'>展开<span></div>
				</div>
				<hr/>
			
				<a href="/zh-CN/htmlspecialchars.html"><h2>htmlspecialchars()的JavaScript实现</h2></a>
				<div class='tag-area'>
					
					标签：
					<span class='tag' tag='HTML'>HTML</span><span class='tag' tag='JavaScript'>JavaScript</span>
					
				</div>
				<div class='post-content'>
					<div class="highlighter-rouge"><pre class="highlight"><code>function htmlspecialchars(s){
	var M={'&amp;':'&amp;amp;','&lt;':'&amp;lt;','&gt;':'&amp;gt;','"':'&amp;quot;',"'":'&amp;#039;'};
	return s.replace(/[&amp;&lt;&gt;"']/g,function(m){return M[m]});
}
</code></pre>
</div>


					<div class='fold-control'><span class='hint-expand'>展开<span></div>
				</div>
				<hr/>
			
			</div>
		</div>
	</body>
	<script type='text/javascript'>
document.getElementById('select_lang_english').onclick = function(){
	Cookies.set('language_preferred', 'en');
}
document.getElementById('select_lang_chinese').onclick = function(){
	Cookies.set('language_preferred', 'zh');
}
var main_menu = document.getElementById('main_menu');
var menu_bg = document.getElementById('menu_bg');
document.getElementById('menu_btn').onclick = function(){
	main_menu.classList.toggle('menu-display');
}
menu_bg.onclick = function(){
	main_menu.classList.remove('menu-display');
}

var post_content_all = document.querySelectorAll('.post-content');
for (var i = 0; i < post_content_all.length; i++) {
	var post_content = post_content_all[i];
	if (post_content.offsetHeight > 100) {
		post_content.classList.add('post-content-long');
	}
}

var fold_control_all = document.querySelectorAll('.fold-control');
for (var i = 0; i < fold_control_all.length; i++) {
	fold_control_all[i].onclick = function(e){
		this.parentNode.classList.remove('post-content-long');
	}
}
	</script>
</html>

